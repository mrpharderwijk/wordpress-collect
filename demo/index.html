<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>wordpress-collect demo</title>

    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
    
    <link rel="import" href="../../iron-demo-helpers/demo-pages-shared-styles.html">
    <link rel="import" href="../../iron-demo-helpers/demo-snippet.html">
    <link rel="import" href="../wordpress-collect.html">
  </head>
  <body unresolved>
    <div class="vertical-section-container centered">
      <h3>Basic wordpress-collect demo</h3>

      <dom-module id="wordpress-collect-demo">
        <template>
          <style>
            .card {
              margin: 24px;
              padding: 16px;
              color: #757575;
              border-radius: 5px;
              background-color: #fff;
              box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
            }

            .circle {
              display: inline-block;
              width: 64px;
              height: 64px;
              text-align: center;
              color: #555;
              border-radius: 50%;
              background: #ddd;
              font-size: 30px;
              line-height: 64px;
            }

            h1 {
              margin: 16px 0;
              color: #212121;
              font-size: 22px;
            }
          </style>

          <wordpress-collect
            base-url="[[wpCollectAttrs.baseUrl]]"
            resource="[[wpCollectAttrs.resource]]"
            response="{{wpResponse}}"></wordpress-collect>
  

          <template
            is="dom-repeat"
            items="[[wpResponse]]"
            as="page">
          
            <div class="card">
              <div class="circle">[[page.id]]</div>
              <h1>[[page.title.rendered]]</h1>
              <a href$="[[page.link]]">[[page.title.rendered]]</a>
            </div>

          </template>

        </template>

        <script>
          window.addEventListener('WebComponentsReady', () => {
            Polymer({
              is: 'wordpress-collect-demo',
              properties: {
                wpCollectAttrs: {
                  type: Object,
                  value: () => {
                    return {
                      baseUrl: '//rocketscience.io/api/index.php',
                      resource: 'pages'
                    };
                  }
                },
                wpResponse: {
                  type: Array
                }
              }
            });
          })
        </script>
      </dom-module>

      <demo-snippet>
        <wordpress-collect-demo></wordpress-collect-demo>
        <template>
          <wordpress-collect
            base-url="[[wpCollectAttrs.baseUrl]]"
            resource="[[wpCollectAttrs.resource]]"
            response="{{wpResponse}}"></wordpress-collect>
        </template>
      </demo-snippet>
    </div>
  </body>
</html>
